# 📝 Round 7 Quests

---

## 💻 Implementation Quest

> `ApplicationEvent` 를 활용해 트랜잭션이나 기능을 무조건 분리하는 것이 아니라, **느슨해도 되는 경계** 를 잘 구분 지어 분리하는 실습을 진행합니다.
> 적절한 판단 기준을 근거로 **주요 로직**과 **부가 로직**을 잘 구분지어 보세요.
>

<aside>

**Must-Have (이번 주에 무조건 가져가야 좋을 것-**무조건****하세요**)**

- Event vs Command
- Application Event

**Nice-To-Have (부가적으로 가져가면 좋을 것-**시간이****허락하면****꼭****해보세요**)**

- 놓친 코드 리팩토링

</aside>

### 📋 과제 정보

- **무조건 이벤트로 분리**가 아니라, *경계에 따라 동기/비동기를 나누는 감각*을 익힌다.
- 주문–결제 플로우에서 외부 I/O를 이벤트로 분리한다.
- 좋아요–집계 플로우에서 **eventual consistency** 를 적용한다.
- 트랜잭션 결과와의 상관관계에 따라 적절한 리스너를 활용해 메인 트랜잭션과 느슨하게 연결한다.

---

## ✅ Checklist

### 🧾 주문 ↔ 결제

- [x]  **이벤트 기반**으로 주문 트랜잭션과 쿠폰 사용 처리를 분리한다.
- [x]  **이벤트 기반**으로 결제 결과에 따른 주문 처리를 분리한다.
- [x]  **이벤트 기반**으로 주문, 결제의 결과에 대한 데이터 플랫폼에 전송하는 후속처리를 진행한다.

### ❤️ 좋아요 ↔ 집계

- [x]  **이벤트 기반**으로 좋아요 처리와 집계를 분리한다.
- [x]  집계 로직의 성공/실패와 상관 없이, 좋아요 처리는 정상적으로 완료되어야 한다.

### 📽️ 공통

- [x]  이벤트 기반으로 `유저의 행동` 에 대해 서버 레벨에서 로깅하고, 추적할 방법을 고민해 봅니다.

> *상품 조회, 클릭, 좋아요, 주문 등*
>

- [x]  동작의 주체를 적절하게 분리하고, 트랜잭션 간의 연관관계를 고민해 봅니다.
